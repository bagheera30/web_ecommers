---
import Layouts from "../../layouts/Layouts.astro";
export function getStaticPaths() {
  return {
    async generate() {
      const response = await fetch("https://fakestoreapi.com/products");
      const products = await response.json();

      const paths = products.map((product) => ({
        params: { id: product.id.toString() },
      }));

      return {
        paths,
        fallback: false,
      };
    },
  };
}
export function getStaticProps({ params }) {
  const { id } = params;

  return {
    async generate() {
      const response = await fetch(`https://fakestoreapi.com/products/${id}`);
      const product = await response.json();

      return {
        props: {
          product,
        },
      };
    },
  };
}
---

<Layouts title="Produk" />
